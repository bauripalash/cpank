Pankti Internal Memo #1
========

Title: Pankti Import and Module System
Author: Palash Bauri <me [at] palashbauri [dot] in>
		<palashbauri1 [at] gmail [dot] com>
Status: Draft
Created: April 10, 2023 09:23:32 IST
Last Modified: April 10, 2023 09:52:47 IST

========
Abstract
========

Due to pankti programming language's dynamic nature it has been proved to be 
really difficult to implement a module and import system which is not only 
easy to implement but also efficient. Here I provide description and notes on 
the current prototype module/import system implemented in this C implementation
of Pankti programming language

========
Description 
========

The VM (struct) will hold a static array of `MODULE_MAX` (prototype : 64) 
number of module objects (1). It also include an integer field of module count 
which specified how many modules are in use currently(2); the names of modules 
will be hashed and stored in a array of module names which will help us fetch
modules faster than comparing strings(3); The VM will also have a pointer the 
current module being executed(4).

```
typedef struct _Vm{
	...
	Module modules[MODULE_MAX]; <-----(1)
	int mod_count; 				<-----(2)
	uint32_t mod_names[MODULE_MAX]; <-(3)
	Module * current_mod;       <-----(4)
	...
}
```

Each Module object has a table of globals (`htable.c`)(5), A array of standard 
library proxy(6) and count of how many standard library are imported in this 
current module(7). [Discussed later; see `Standard Library`]. `FRAME_SIZE` 
number of call frames(8); number of frames in current module (9); module 
name(10); hash of the module name which gets stored in the `mod_names` field 
of VM.
